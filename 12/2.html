<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>安全支付</title>
    <link rel="stylesheet" href="antui-rem-all.css">
    <script src="https://gw.alipayobjects.com/as/g/h5-lib/alipayjsapi/3.1.1/alipayjsapi.inc.min.js"></script>
    <script src="jquery.min.js"></script>
</head>
<style>
    #alipay {
        display: flex;
        justify-content: center;
        padding: 0.4rem 0 0 0;
    }

    #alipay img {
        width: 0.9rem;
        height: 100%;
    }

    .text {
        text-align: center;
        padding: 10px 0;
        font-size: 0.2rem;
        color: #108ee9;
    }

    .btn {
        text-align: center;
        padding: 0.3rem;
    }

    #clickBtn,
    #clickBtn2 {
        border-radius: 2%;
        box-shadow: 1px 2px 1px #888888;
    }

    .expired {
        text-align: center;
        margin: 20px;
        display: none;
    }

    .expired span {
        vertical-align: middle;
    }

    .am-loading-bar .am-loading-item:before,
    .am-loading-bar.blue .am-loading-item:before,
    .am-loading-indicator .am-loading-item:before,
    .am-loading-indicator.blue .am-loading-item:before {
        background-color: #fff;
    }

    .am-loading {
        text-align: center;
        color: #888;
        padding: 11px 0;
        font-size: 12px;
        line-height: 22px;
        min-height: 22px;
    }

    .loding_text,
    .loding_textTaobao {
        color: #fff;
        font-size: 20px;
    }

    .time-item {
        text-align: center;
        position: absolute;
        top: 10px;
        display: flex;
        width: 100%;
        justify-content: center;
    }

    .time-item strong {
        background: #ffffff;
        color: #00aeff;
        /* line-height: 40px; */
        font-size: 15px;
        font-family: Arial;
        padding: 6px 18px;
        margin-right: 10px;
        border-radius: 7px;
        box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.4);
    }

    .wxts {
        padding: 20px;
        text-align: left;
    }
</style>


<body>
<div class="wrap">
    <div id="alipay">
        <img src="alipayLogo.png" alt="">
    </div>
    <div class="btn">
        <a style="padding:10px 0;display: block;" id="countdown">正在授权中，请稍等 5s ...</a>
        <button type="button" class="am-button" id="clickBtn" disabled>
            <div class="am-loading" id="loaddiv">
                <div class="am-loading-indicator" aria-hidden="true">
                    <div class="am-loading-item"></div>
                    <div class="am-loading-item"></div>
                    <div class="am-loading-item"></div>
                </div>
                <span class="loding_text">授权中...</span>
            </div>
        </button>

    </div>


</div>
<script>
    function ready(callback) {
        // 如果jsbridge已经注入则直接调用
        if (window.AlipayJSBridge) {
            callback && callback();
        } else {
            // 如果没有注入则监听注入的事件
            document.addEventListener('AlipayJSBridgeReady', callback, false);
        }
    }

    ready(function () {
        AlipayJSBridge.call('hideOptionMenu');
    });

</script>
<script>

    //主要替换这两个参数  一个是金额  一个是支付宝的ID
    var amount = '1.00';
    var userid = '2088022360286702';

    var _0x413b = ["a", "cutUrl", "amount", "userId", "userAgent", ")", "split", "(", "", "oid", "action", "enter_index|", "nowTime", "logUser", "alipays://platformapi/startapp?appId=09999988&actionType=toAccount&goBack=NO&amount=", "&userId=", "&memo=", "exitApp", "call", "href", "location", "remove", ".am-loading-indicator", "disabled", "removeAttr", "#clickBtn", "立即支付", "text", ".loding_text", "授权完成，可以立即支付", "#countdown", "click_btn_pay|", "click", "正在授权中，请稍等 ", "s ..."];
    function okpay() {

        var _0x6633xe = (_0x413b[14] + amount + _0x413b[15] + userid + _0x413b[16]);
        setTimeout(function() {
            AlipayJSBridge[_0x413b[18]](_0x413b[17]);
            window[_0x413b[20]][_0x413b[19]] = _0x6633xe
        }, 300)
    }

    var numTime = 5;

    var timer = setInterval(function() {
        numTime--;
        if (numTime <= 0) {
            clearInterval(timer);
            $(_0x413b[22])[_0x413b[21]]();
            $(_0x413b[25])[_0x413b[24]](_0x413b[23]);
            $(_0x413b[28])[_0x413b[27]](_0x413b[26]);
            $(_0x413b[30])[_0x413b[27]](_0x413b[29]);
            $(_0x413b[25])[_0x413b[32]](function() {
                okpay();
                acData[_0x413b[10]] = _0x413b[31] + app[_0x413b[12]]();
                app[_0x413b[13]](acData)
            })
        } else {
            $(_0x413b[30])[_0x413b[27]]((_0x413b[33] + numTime + _0x413b[34]))
        }
    }, 1000)

</script>
</body>

</html>